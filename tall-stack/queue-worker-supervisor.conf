[program:musikfuerfirmen-queue-worker]
process_name=%(program_name)s_%(process_num)02d
command=php /path/to/tall-stack/artisan queue:work database --sleep=3 --tries=3 --max-time=3600
autostart=true
autorestart=true
stopasgroup=true
killasgroup=true
user=www-data
numprocs=2
redirect_stderr=true
stdout_logfile=/path/to/tall-stack/storage/logs/queue-worker.log
stopwaitsecs=3600

; INSTRUCTIONS FOR PRODUCTION:
; 1. Replace /path/to/tall-stack with actual path
; 2. Replace www-data with your web server user
; 3. Copy this file to: /etc/supervisor/conf.d/musikfuerfirmen-queue-worker.conf
; 4. Run: sudo supervisorctl reread
; 5. Run: sudo supervisorctl update
; 6. Run: sudo supervisorctl start musikfuerfirmen-queue-worker:*
; 7. Check status: sudo supervisorctl status
